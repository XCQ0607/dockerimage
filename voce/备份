如何备份/迁移？
备份 vocechat-server 只需要停止服务后，拷贝 data 目录。

停止服务:
docker stop vocechat-server

备份数据：
docker cp vocechat-server:/home/vocechat-server/data /backup/

如果知道自己的目录，那就直接拷贝:

cp -rf ~/.vocechat-server/data /backup/

启动服务:
docker start vocechat-server

如何迁移？
假定旧的服务器为 old-server, 新的服务器为 new-server，彼此做好了 ssh 信任，安装了 rsync。

1. 在 new-server 上安装一个全新版本 vocechat-server
docker 启动参数调整为合适自己的参数。

mkdir -p ~/.vocechat-server/data
docker run -d --restart=always \
  -p 443:443 \
  --name vocechat-server \
  -v ~/.vocechat-server/data:/home/vocechat-server/data \
  privoce/vocechat-server:latest \
  --network.bind "0.0.0.0:443" \
  --network.domain "www.domain.com" \
  --network.tls.type "acme_tls_alpn_01" \
  --network.tls.acme.cache_path "/home/vocechat-server/data/cert"

2. 停止 new-server 的 vocechat-server
docker stop vocechat-server

3. 将数据从 old-server 上拷贝到 new-server
cd ~/.vocechat-server/
rsync -av root@old-server:/root/.vocechat-server/* ./

4. 启动 new-server 的 vocechat-server
docker start vocechat-server